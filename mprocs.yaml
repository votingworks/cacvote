procs:
  rave-server:
    cwd: "services/rave-server"
    shell: "cargo run --release"

  rave-scan-backend:
    cwd: "apps/rave-scan/backend"
    shell: "cargo run --release"
    env:
      RAVE_URL: "http://localhost:8000/"
      VX_MACHINE_ID: "rave-scan-dev"
  rave-scan-frontend:
    cwd: "apps/rave-scan/frontend"
    shell: "dx serve --port 4000"

  rave-jx-backend:
    cwd: "apps/rave-jx-terminal/backend"
    shell: "cargo run --release"
    env:
      RAVE_URL: "http://localhost:8000/"
      VX_MACHINE_ID: "rave-jx-dev"
  rave-jx-frontend:
    cwd: "apps/rave-jx-terminal/frontend"
    shell: "dx serve --port 5000"

  rave-mark-backend:
    cwd: "apps/rave-mark/backend"
    shell: "pnpm build && pnpm start"
    env:
      RAVE_URL: "http://localhost:8000/"
      VX_MACHINE_ID: "rave-mark-dev"
  rave-mark-frontend:
    cwd: "apps/rave-mark/frontend"
    shell: "pnpm build && pnpm --dir prodserver start"
